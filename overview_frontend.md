## 概要
youtube の chat log を 全文検索して、 チャットのタイムスタンプに合ったリンクを生成するWebアプリケーション

### Platform
- Elastic Search
    - Elastic Cloud
- Web Application Server
    - AWS Fargate
- Static Hosting(Html,Js,image,chatlog)
    - AWS S3

### Overview
- フロントエンド
    - ユーザーが検索ボックスに入力する。
    - 入力が0.3秒停止したら [Debounce]、入力内容をAPIサーバーに送信する。

- APIサーバー (Python (FastAPI/Flask))
    - フロントエンドから検索クエリを受け取る。
    - そのクエリを使って Elasticsearch に検索をリクエストする。

- 検索エンジン (Elasticsearch)
    - N-gramインデックスを使って高速に検索を実行し、ヒットしたデータ（上記JSON）をAPIサーバーに返す。

- フロントエンド (vite + React + TypeScript)
    - APIサーバーから検索結果（JSONの配列）を受け取る。
    - 結果をループ処理し、タイムスタンプ付きのリンク（例: https://www.youtube.com/watch?v={video_id}&t={timestamp_sec}s）として画面に描画する。

#### 画面構成
- タイトル
- 概要
    - 注意書きアイコン
        - 概要欄の右端にある
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
        </svg>
        - アイコンをクリックすると注意書きダイアログを表示
            - 注意書きの内容
                - 注意書き
                    1. 実況の検索結果は機械学習で生成されたため、不正確な可能性があります。動画の内容を確認することを推奨します。
                    2. 歌枠は歌詞の著作権があるため、検索結果には含まれません。
                    3. アーカイブの非公開に合わせて、ログが非公開となる場合があります。反映が遅くなる場合があります。
        - 初回アクセス時に１回だけ表示される
    - ヘルプアイコン
        - 概要欄の右端にある
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
        </svg>
        - アイコンをクリックすると注意書きダイアログを表示
            - ヘルプダイアログの内容
                - 使い方
                    1. 検索ボックスに検索したい文字列を入力する。
                        - 右端の絵文字アイコンでカスタム絵文字を入力できる。
                    2. スイッチで検索結果を切り替えることができる。
                        - うつろ： うつろちゃんの実況
                        - チャット: チャットメッセージ
                        - すべて: 実況とチャットの両方
                    3. 完全一致で検索
                        - チェックをつけると完全一致で検索する
                        - チェックを外すと部分一致で検索する
                    4. 投稿日
                        - 新しい順: 投稿日が新しい順に並ぶ
                        - 古い順: 投稿日が古い順に並ぶ
                    5. 投稿日フィルター
                        - 投稿日がFromとToの間にあるもののみ表示する
                    6. 投稿者名
                        - 投稿者名が一致するもののみ表示する
                        - ユーザ名とハンドル名のどちらでも検索できる
                    7. 動画で絞り込み
                        - 動画を選択して絞り込む

       
- 検索ボックス
    - テキストボックス
    - カスタムEmoji 用の パレット
    - 完全一致検索用の チェックボックス
    - メッセージタイプを選択するSegmented Control (うつろちゃん,チャット)

- 検索結果
    - 検索結果件数
    - 昇順降順:投稿日
    - カード
        - 動画名
        - チャットメッセージ
        - タイムスタンプ
        - チャット投稿日
        - 投稿者名
        - マウスオーバーのポップアップ
            - タイムスタンプ時点 の サムネイル
            - タイムスタンプ時点 の 動画URL
        - メッセージタイプによってカードレイアウトを変更
            - chat：チャットメッセージ, 右寄せ, bg-white/95, 角丸小
            - transcript：文字起こしメッセージ, 左寄せ, bg-blue-50/95, 角丸大

- フィルター
    - 動画投稿日 From
    - 動画投稿日 To
    - 投稿者名
